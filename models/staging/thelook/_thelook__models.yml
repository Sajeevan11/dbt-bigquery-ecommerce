version: 2

models:
  - name: stg_thelook__orders
    description: "Cleaned and standardized orders from TheLook e-commerce"
    columns:
      - name: order_id
        description: "Unique identifier for each order"
        tests:
          - unique
          - not_null
      
      - name: user_id
        description: "Foreign key to users"
        tests:
          - not_null
      
      - name: order_status
        description: "Current status of the order"
        tests:
          - accepted_values:
              values: ['Complete', 'Cancelled', 'Returned', 'Processing', 'Shipped']
      
      - name: order_created_at
        description: "Timestamp when order was created"
        tests:
          - not_null
      
      - name: number_of_items
        description: "Number of items in the order"
        tests:
          - not_null


  - name: stg_thelook__users
    description: "Cleaned and standardized users/customers from TheLook e-commerce"
    columns:
      - name: user_id
        description: "Unique identifier for each user"
        tests:
          - unique
          - not_null
      
      - name: user_email
        description: "User's email address"
        tests:
          - not_null
      
      - name: user_age
        description: "User's age"
        tests:
          - not_null
      
      - name: user_gender
        description: "User's gender"
        tests:
          - accepted_values:
              values: ['M', 'F']
      
      - name: user_country
        description: "User's country"
        tests:
          - not_null
      
      - name: user_created_at
        description: "Timestamp when user account was created"
        tests:
          - not_null

  - name : stg_thelook__products
    description: "Cleaned and renamed products from TheLook e-commerce catalog"
    columns:
      - name: product_id
        description: "Unique product identifier (primary key)"
        tests:
          - unique
          - not_null
      
      - name: product_name
        description: "Product name (cleaned with coalesce for NULL values)"
        tests:
          - not_null
      
      - name: product_category
        description: "Product category"
        tests:
          - not_null
      
      - name: product_brand
        description: "Product brand"
        tests:
          - not_null
      
      - name: product_price
        description: "Product retail price"
        tests:
          - not_null

  - name : stg_thelook__order_items
    description: "Cleaned and renamed order items - linking orders to products"
    columns:
      - name:  order_item_id
        description: "Unique order item identifier (primary key)"
        tests:
          - unique
          - not_null
      
      - name: order_id
        description: "Foreign key to orders table"
        tests:
          - not_null
      
      - name: product_id
        description: "Foreign key to products table"
        tests:
          - not_null
      
      - name: sale_price
        description: "Sale price of the item"
        tests:
          - not_null
      
      - name: order_item_status
        description: "Status of the order item"
        tests:
          - not_null
          - accepted_values:
              values: ['Complete', 'Cancelled', 'Processing', 'Returned', 'Shipped']